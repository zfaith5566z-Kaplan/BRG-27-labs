Cloud Web Server Deployment with Amazon EC2

This lab introduces students to cloud-based server deployment using Amazon EC2. Students will configure a virtual machine, install Apache web server, serve files online, and understand basic budgeting and cost management in cloud environments.

Learning Objectives
‚Ä¢	- Launch and configure a Linux VM instance using EC2 or other cloud providers.
‚Ä¢	- Secure SSH access using key pairs.
‚Ä¢	- Install and configure Apache web server.
‚Ä¢	- Serve web content from the cloud instance.
‚Ä¢	- Transfer files and modify HTML content.
‚Ä¢	- Understand budgeting and cost monitoring in AWS.
‚Ä¢	- Complete cloud-based troubleshooting and testing.

Lab Setup and Execution
‚Ä¢	- Log in to AWS EC2 Console and create a new Ubuntu 20.04 instance (free tier eligible).
‚Ä¢	- Name the security group 'ssh-and-web' and allow both SSH and HTTP traffic.
‚Ä¢	- Download key pair and save safely. Use this for SSH login via terminal.
‚Ä¢	- Connect to the VM using provided SSH command (`ssh -i key.pem ubuntu@IP`).
‚Ä¢	- Run `sudo apt update` and install Apache using `sudo apt install apache2`.
‚Ä¢	- Access the server using its public IP in a browser (via HTTP).
‚Ä¢	- Modify `/var/www/html/index.html` using nano and test the changes live.
‚Ä¢	- Download and copy files to `/var/www/html/` using `wget` and `sudo cp`.
‚Ä¢	- Create hyperlinks in `index.html` using anchor `<a>` tags.
‚Ä¢	- Test access using different devices and browsers.

File Transfer & Permissions
‚Ä¢	- Use `wget` to download remote files to your VM.
‚Ä¢	- Use `sudo cp` to move them into the web directory.
‚Ä¢	- Use `scp -i key.pem localfile ubuntu@IP:/home/ubuntu/` to copy files from local to VM.
‚Ä¢	- Use `chmod` or change ownership if facing file access issues.

Budget and Cost Monitoring in AWS
‚Ä¢	- Log into AWS Billing Dashboard via EC2 console.
‚Ä¢	- Set up a budget alert to avoid unexpected charges.
‚Ä¢	- Review instance charges and terminate unused resources.
‚Ä¢	- Avoid launching high-tier or GPU-backed instances.

Optional Challenges

Challenge 1: Network Latency Testing
‚Ä¢	- Use `ping` to test servers in different countries.
‚Ä¢	- Compare latencies and discuss expected vs observed results.
‚Ä¢	- Discuss alternatives to EC2: Azure, DigitalOcean, Linode, etc.

Challenge 2: Local File Upload via SCP
‚Ä¢	- Use `scp -i key.pem file ubuntu@IP:/home/ubuntu/` from your Linux machine.
‚Ä¢	- Move uploaded files into `/var/www/html/` using `sudo mv`.

Challenge 3: Create a Custom HTML Page
‚Ä¢	- Write a simple HTML file (index.html) using tags like `<h1>`, `<p>`, and `<a>`.
‚Ä¢	- Upload it to the server and test in browser.

Reflection Questions
- What were the benefits of cloud deployment over local virtualisation?
Cloud deployment provides significant advantages over local virtualization,
primarily through global accessibility and seamless scalability. Unlike a local
VM confined to one machine, a cloud instance is accessible from anywhere online
and can be resized to handle traffic spikes instantly. It also simplifies
networking by managing public IPs and firewalls, eliminating complex router
configurations.

- How does Apache serve files, and how did you verify this?
Apache File Serving: Apache serves files from its DocumentRoot directory.
I verified this by creating a test HTML file and successfully accessing it via
the server's public IP address in a web browser.

- What did you learn about file ownership and permissions?
A key lesson was that the Apache service runs as a dedicated, low-privilege user
 (e.g., apache or www-data) for security. Therefore, the files and directories
 within the web root must have the correct ownership and permissions for this
 user to read them. A common "403 Forbidden" error often occurs when files are
 owned by root with no access for the Apache user. The fix involves strategically
 using chown to adjust group ownership and chmod to grant read permissions,
 ensuring security without breaking functionality.

- What risks are associated with leaving instances running?
Risks of Running Instances: Key risks are unexpected financial costs from
 ongoing charges and security vulnerabilities from unpatched software or overly
 permissive firewall rules.

- How would you explain the difference between DNS and /etc/hosts to a client?
DNS vs. /etc/hosts: DNS is a global, distributed system for resolving domain
 names. The /etc/hosts file is a local, manual override that a computer checks
 first before querying DNS.


üåê Activity: AWS EC2 Apache Web Server Deployment

üìò Objective

Launch a cloud-based Linux virtual machine using AWS EC2 (or other cloud platforms), install Apache, serve web pages and downloadable files, and learn basic hosting concepts.

üì¶ Deliverables

#	Deliverable	Description

‚úÖ 1	EC2 Instance Launched	Screenshot of the EC2 dashboard showing the instance running (state = running), with Ubuntu 20.04, free tier eligible, and security group configured.

‚úÖ 2	Security Group Configured	Screenshot showing inbound rules: 
‚Ä¢ Port 22 (SSH) 
‚Ä¢ Port 80 (HTTP) opened

‚úÖ 3	SSH Access Successful	Terminal output showing successful SSH login using the .pem key. Example: ssh -i "yourkey.pem" ubuntu@<public_dns>

‚úÖ 4	Apache Installed and Tested	Output of sudo apt install apache2 and browser screenshot of the Apache welcome page (http://<public_ip>)

‚úÖ 5	Custom index.html Edited	Edited /var/www/html/index.html with personalized content. Screenshot of the file content (nano or gedit) and browser output

Using gedit (GUI): requires to install

Sudo apt install gedit

‚úÖ 6	External File Downloaded with wget	Screenshot of successful download using wget, e.g., wget http://...EECS-2009-28.pdf, saved in /home/ubuntu

Step 1. Run the Command
cd /home/ubuntu

wget http://www.eecs.berkeley.edu/Pubs/TechRpts/2009/EECS-2009-28.pdf

Step 2. Expected Terminal Output

--2025-10-08 01:45:12--  http://www.eecs.berkeley.edu/Pubs/TechRpts/2009/EECS-2009-28.pdf
Resolving www.eecs.berkeley.edu... 128.32.189.73
Connecting to www.eecs.berkeley.edu|128.32.189.73|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 1234567 (1.2M) [application/pdf]
Saving to: ‚ÄòEECS-2009-28.pdf‚Äô
EECS-2009-28.pdf     100%[===================>]   1.18M  1.23MB/s    in 0.9s
2025-10-08 01:45:13 (1.23 MB/s) - ‚ÄòEECS-2009-28.pdf‚Äô saved

‚úÖ 7	File Copied to Web Root	Screenshot of sudo cp command copying a file to /var/www/html, and ls -l output showing it there with correct permissions

To deploy the PDF for web access, the following command was executed:

sudo cp /home/ubuntu/EECS-2009-28.pdf /var/www/html/

The operation completed silently, indicating success.

Verification of File Placement and Permissions
ls -l /var/www/html/EECS-2009-28.pdf

Expected output:
-rw-r--r-- 1 root root 123456 Oct  8 01:52 /var/www/html/EECS-2009-28.pdf

This confirms:
‚Ä¢ 	The file is present in 
‚Ä¢ 	Owned by 
‚Ä¢ 	Readable by the web server ()

‚úÖ 8	PDF File Accessible via Browser	Screenshot of downloading or viewing http://<public_ip>/EECS-2009-28.pdf from browser or mobile

‚úÖ 9	Link Inserted in HTML Page	index.html edited with a hyperlink to the PDF file. Screenshot of HTML snippet: <a href="EECS-2009-28.pdf">Click here</a>
and visible link in browser

‚úÖ 10	Budget Monitoring Enabled	Screenshot of AWS Billing Dashboard with budget alert setup or cost summary

‚úÖ 11	Instance Terminated (Optional)	Screenshot of EC2 instance terminated or stopped, showing awareness of cost management

üß™ Challenge Deliverables (Optional but recommended)

#	Challenge	Description

‚úÖ C1	Ping International Servers	Output of ping or mtr to servers in the US, Europe, Asia. Add latency comparison.

‚úÖ C2	Upload Local File via scp	Use scp with .pem file to upload from local to EC2 VM. Screenshot of command and successful upload.

‚úÖ C3	Custom HTML Page Created	Create a new index.html with multiple hyperlinks, headings, and styled content using basic HTML. Screenshot of code and browser output.
